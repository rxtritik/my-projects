<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>J.A.R.V.I.S. PROTOCOL</title>

<style>
:root {
    --primary-color: #00ffff;
    --bg-color: #050505;
    --glass-bg: rgba(0, 255, 255, 0.05);
    --text-glow: 0 0 10px var(--primary-color);
}

body{
    background-color:var(--bg-color);
    color:var(--primary-color);
    font-family:'Courier New', Courier, monospace;
    margin:0;
    overflow:hidden;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    user-select:none;
}

#audio-unlock{
    position:fixed;
    inset:0;
    background:black;
    z-index:10000;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    text-align:center;
}

#loading-screen{
    position:fixed;
    inset:0;
    background:#000;
    z-index:9999;
    display:none;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    transition:opacity 1s ease-out, visibility 1s;
}

.loader-arc{
    width:120px;
    height:120px;
    border:4px solid transparent;
    border-top:4px solid var(--primary-color);
    border-left:4px solid var(--primary-color);
    border-radius:50%;
    box-shadow:0 0 15px var(--primary-color);
    animation:spin 0.8s linear infinite;
    margin-bottom:20px;
    position:relative;
}

.loader-arc::after{
    content:'';
    position:absolute;
    inset:10px;
    border:2px solid transparent;
    border-top:2px solid white;
    border-radius:50%;
    animation:spin-reverse 1.5s linear infinite;
}

.loading-text{
    font-size:1.2rem;
    letter-spacing:5px;
    animation:blink 0.5s infinite alternate;
    text-shadow:var(--text-glow);
}

.loading-percent{font-size:2rem;font-weight:bold;margin-top:10px;}

.interface-container{
    display:flex;
    width:95%;
    height:90%;
    justify-content:space-between;
    align-items:center;
    opacity:0;
    transform:scale(0.9);
    transition:opacity 1.5s ease-out, transform 1.5s cubic-bezier(0.22,1,0.36,1);
}

.interface-active{opacity:1;transform:scale(1);}

.scanlines{
    position:fixed;
    inset:0;
    background:linear-gradient(to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,0) 50%,
    rgba(0,0,0,0.2) 50%,
    rgba(0,0,0,0.2));
    background-size:100% 4px;
    pointer-events:none;
    z-index:10;
}

.column{display:flex;flex-direction:column;justify-content:center;gap:20px;}
.side-panel{width:25%;opacity:0.8;}
.center-panel{align-items:center;width:40%;position:relative;}

.data-box{
    border:1px solid var(--primary-color);
    background:var(--glass-bg);
    padding:15px;
    box-shadow:0 0 5px var(--primary-color), inset 0 0 20px rgba(0,255,255,0.05);
    position:relative;
    backdrop-filter:blur(2px);
}

.data-box h3{
    margin:0 0 10px 0;
    border-bottom:1px solid var(--primary-color);
    font-size:0.8rem;
    letter-spacing:2px;
    text-shadow:var(--text-glow);
}

.terminal-hud{
    position:fixed;
    bottom:20px;
    left:20px;
    width:350px;
    height:180px;
    font-size:0.75rem;
    overflow:hidden;
    border-left:3px solid var(--primary-color);
}

#terminal-body{
    height:140px;
    overflow-y:hidden;
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
}

.term-line{margin-bottom:4px;color:#fff;}
.term-prompt{color:var(--primary-color);margin-right:8px;font-weight:bold;}

.arc-reactor{
    position:relative;
    width:300px;
    height:300px;
    display:flex;
    justify-content:center;
    align-items:center;
}

.circle{
    position:absolute;
    border-radius:50%;
    border:2px solid var(--primary-color);
    box-shadow:0 0 15px var(--primary-color);
}

.outer-ring{width:100%;height:100%;border-left:2px solid transparent;border-right:2px solid transparent;animation:spin 10s linear infinite;}
.inner-ring{width:70%;height:70%;border-top:4px solid var(--primary-color);border-bottom:4px solid var(--primary-color);border-left:2px solid transparent;border-right:2px solid transparent;animation:spin 3s linear infinite;}
.core{width:30%;height:30%;background:radial-gradient(circle,#fff 0%,var(--primary-color) 40%,transparent 70%);box-shadow:0 0 40px var(--primary-color);animation:pulse 2s ease-in-out infinite;border-radius:50%;}

.center-text{
    position:absolute;
    top:65%;
    font-size:1.2rem;
    font-weight:bold;
    color:white;
    text-shadow:0 0 10px var(--primary-color);
    z-index:5;
    letter-spacing:3px;
}

.graph-box{display:flex;justify-content:space-between;height:60px;align-items:flex-end;gap:5px;}
.bar{flex:1;background:var(--primary-color);box-shadow:0 0 5px var(--primary-color);animation:bar-height 1.5s infinite alternate ease-in-out;opacity:0.7;}

@keyframes spin{100%{transform:rotate(360deg);}}
@keyframes spin-reverse{100%{transform:rotate(-360deg);}}
@keyframes pulse{0%,100%{opacity:0.8;transform:scale(1);}50%{opacity:1;transform:scale(1.1);}}
@keyframes blink{0%{opacity:1;}100%{opacity:0.3;}}
@keyframes bar-height{0%{height:10%;}100%{height:100%;}}


/* =================================================
   (MOBILE LAYOUT CHANGES)
================================================= */

@media (max-width: 700px){

    .interface-container{
        flex-direction:column;
        justify-content:flex-start;
        height:100%;
        width:100%;
        padding-top:12px;
        gap:10px;
    }

    .side-panel,
    .center-panel{
        width:100%;
    }

    .left-panel,
    .right-panel{
        flex-direction:row;
        justify-content:space-evenly;
        gap:8px;
        padding:0 8px;
    }

    .left-panel .data-box,
    .right-panel .data-box{
        flex:1;
        padding:8px;
        font-size:0.65rem;
    }

    .arc-reactor{
        width:200px;
        height:200px;
    }

    .center-text{
        font-size:0.75rem;
        letter-spacing:2px;
        top:67%;
    }

    .message-log{
        font-size:0.7rem;
        margin-top:6px !important;
    }

    .graph-box{height:35px;}

    .terminal-hud{
        left:50%;
        transform:translateX(-50%);
        bottom:45px;
        width:92%;
        height:120px;
        font-size:0.6rem;
    }

    #terminal-body{height:85px;}

    .loading-text{
        font-size:0.9rem;
        letter-spacing:3px;
    }

    .loading-percent{font-size:1.4rem;}

    .data-box h3{
        font-size:0.6rem;
        letter-spacing:1px;
    }
}

</style>
</head>

<body>

<div id="audio-unlock">
    <div>
        <h1 style="letter-spacing:10px;">J.A.R.V.I.S.</h1>
        <p style="color:#666;">CLICK TO INITIALIZE BIOMETRIC SCAN</p>
    </div>
</div>

<div id="loading-screen">
    <div class="loader-arc"></div>
    <div class="loading-text">INITIALIZING SYSTEMS</div>
    <div class="loading-percent" id="loading-percent">0%</div>
</div>

<div class="scanlines"></div>

<div class="interface-container" id="main-interface">

    <div class="column side-panel left-panel">
        <div class="data-box">
            <h3>ARMOR STATUS</h3>
            <ul>
                <li>DURABILITY: 100%</li>
                <li>OXYGEN: 98%</li>
                <li>THRUSTERS: READY</li>
            </ul>
        </div>

        <div class="data-box">
            <h3>POWER DIST</h3>
            <div class="graph-box">
                <div class="bar" style="animation-delay:.1s"></div>
                <div class="bar" style="animation-delay:.3s"></div>
                <div class="bar" style="animation-delay:.5s"></div>
                <div class="bar" style="animation-delay:.2s"></div>
            </div>
        </div>
    </div>

    <div class="column center-panel">
        <div class="arc-reactor">
            <div class="circle outer-ring"></div>
            <div class="circle inner-ring"></div>
            <div class="circle core"></div>
            <div class="center-text" id="clock">00:00:00</div>
        </div>

        <div class="message-log" id="message-log" style="margin-top:20px;text-shadow:var(--text-glow)">
            STANDING BY
        </div>
    </div>

    <div class="column side-panel right-panel">
        <div class="data-box">
            <h3>TARGETING</h3>
            <div style="text-align:center;padding:10px;border:1px solid var(--primary-color);border-radius:50%;width:60px;height:60px;margin:0 auto;display:flex;align-items:center;justify-content:center;">
                <div style="width:8px;height:8px;background:red;border-radius:50%;box-shadow:0 0 10px red;animation:blink .2s infinite;"></div>
            </div>
        </div>

        <div class="data-box">
            <h3>COORDINATES</h3>
            <div id="coords" style="font-size:.8rem;">
                LAT: 40.7128<br>LON: -74.0060
            </div>
        </div>
    </div>

</div>

<div class="data-box terminal-hud">
    <h3>DIAGNOSTIC_FEED</h3>
    <div id="terminal-body"></div>
</div>


<script>
const audioCtx=new(window.AudioContext||window.webkitAudioContext)();

const playSynth=(freq,type,dur,vol)=>{
    const osc=audioCtx.createOscillator();
    const gain=audioCtx.createGain();
    osc.type=type;
    osc.frequency.setValueAtTime(freq,audioCtx.currentTime);
    gain.gain.setValueAtTime(vol,audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+dur);
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime+dur);
};

const sounds={
    type:()=>playSynth(1200+Math.random()*400,'sine',0.05,0.03),
    boot:()=>{
        [200,400,800,1200].forEach((f,i)=>{
            setTimeout(()=>playSynth(f,'square',0.5,0.05),i*150);
        });
    },
    glitch:()=>playSynth(Math.random()*500+100,'sawtooth',0.1,0.02)
};

const logs=[
"Initializing Mark 85 OS...",
"Syncing with Stark Satellite Network",
"Checking Repulsor stability...",
"Rerouting power to main core",
"Heuristic analysis engaged",
"Firewall bypassed: NSA_STARK_01",
"Nanotech integrity: 100%",
"Atmospheric sensors: ONLINE"
];

async function typeLine(text){
    const body=document.getElementById('terminal-body');
    const line=document.createElement('div');
    line.className='term-line';
    line.innerHTML=`<span class="term-prompt">#</span><span class="text"></span>`;
    body.appendChild(line);

    const textSpan=line.querySelector('.text');
    for(const char of text){
        textSpan.textContent+=char;
        sounds.type();
        await new Promise(r=>setTimeout(r,20+Math.random()*40));
    }
    if(body.childNodes.length>8) body.removeChild(body.firstChild);
}

async function runTerminal(){
    while(true){
        await typeLine(logs[Math.floor(Math.random()*logs.length)]);
        await new Promise(r=>setTimeout(r,1500));
    }
}

document.getElementById('audio-unlock').addEventListener('click',function(){
    this.style.display='none';
    document.getElementById('loading-screen').style.display='flex';
    if(audioCtx.state==='suspended') audioCtx.resume();

    let progress=0;
    const loader=document.getElementById('loading-percent');
    const interval=setInterval(()=>{
        progress+=Math.floor(Math.random()*5)+1;
        if(progress>=100){
            progress=100;
            clearInterval(interval);
            setTimeout(startHUD,500);
        }
        loader.innerText=progress+"%";
        if(progress%10===0) playSynth(800,'sine',0.05,0.05);
    },50);
});

function startHUD(){
    document.getElementById('loading-screen').style.opacity='0';
    setTimeout(()=>{
        document.getElementById('loading-screen').style.display='none';
        document.getElementById('main-interface').classList.add('interface-active');
        sounds.boot();
        runTerminal();

        setInterval(()=>{
            document.getElementById('clock').innerText=new Date().toLocaleTimeString();
        },1000);

        setInterval(()=>{
            const lat=(Math.random()*180-90).toFixed(4);
            const lon=(Math.random()*360-180).toFixed(4);
            document.getElementById('coords').innerHTML=`LAT: ${lat}<br>LON: ${lon}`;
        },2000);
    },1000);
}

document.addEventListener('mousemove',(e)=>{
    const x=(window.innerWidth/2-e.pageX)/50;
    const y=(window.innerHeight/2-e.pageY)/50;
    document.getElementById('main-interface').style.transform=
        `scale(1) translate(${x}px,${y}px)`;
});
</script>

</body>
</html>
